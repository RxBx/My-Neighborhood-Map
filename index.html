<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Almost 100 Los Angeles Architectural Landmarks</title>
    <link rel="stylesheet" href="css/style.min.css">
</head>

<body>
    <div id="container" class="container">
        <!-- "error" element is "display: none" until an error message is invoked; takes no screen area -->
        <!-- App displays error message via Knockout JS-->
        <p id="error" class="error" data-bind="visible: error, text: errorMessage"></p>
        <!-- KO obs "showSelections" displays element when "mobile", hides when full screen-->
        <!-- style is toggle by KO Obs to change color based on state of showSelections KO obs -->
        <!-- a clickable element uses KO to toggle between Place List and Search/Filter box -->
        <div id="searchFilterRevealHide" class="search-filter-reveal-hide" data-bind="visible: isMobile, click: toggleSelections, style: {backgroundColor: showSelections() ? '#8cdcda' : '#e6e87e' }">
            <!-- 2 spans below toggle visible text based on true-false state of "showSelections"-->
            <p id="searchFilterRevealHideTextFilters" class="search-filter-reveal-hide_text"> <span data-bind="visible: showSelections">See List</span><span data-bind="visible: showSelections() < 1">Search/Filters</span></p>
        </div>
        <!-- Main search/filter area of app -->
        <!-- selections div shows/hides based on state of "showSelections" KO Obs;
        "top" value changes by amount set in KO Computed "selectionUp" or "selectionDown" -->
        <div id="selections" class="selections" data-bind="style: {top: showSelections() ? selectionUp() : selectionDown()}">
            <div id="searchDiv" class="selections__search-div">
                <!-- KO textInput triggers Place List eval-->
                <div class="selections__search-div_container">
                    <p>Search?
                        <input type="text" id="search" class="selections__search-div_search-box" data-bind="textInput: search">
                    </p>
                </div>
                <!-- click triggers KO to run function to clear or show all Place Objects-->
                <div id="showAllButton" class="selections__search-div_btn selections__search-div_show-all" data-bind="click: showAll">Show All</div>
                <div id="clearMap" class="selections__search-div_btn selections__search-div_clear" data-bind="click: clearMap">Clear Map</div>
            </div>
            <!-- A system of checkboxes uses KO to enter filter data, and run Place List Eval; also KO re-styles selections-->
            <div id="decadeDiv" class="selections__decade-div">
                <p>Decade?</p>
                <div id="decadeInputContainer" class="selections__decade-div_decade-input-container">
                    <span data-bind="css: { select: decades1920() === true }"><label>1920s<input type="checkbox" name="decade" value="1920" data-bind="checked: decades"></label></span>
                    <span data-bind="css: { select: decades1930() === true }"><label>1930s<input type="checkbox" name="decade" value="1930" data-bind="checked: decades"></label></span>
                    <span data-bind="css: { select: decades1940() === true }"><label>1940s<input type="checkbox" name="decade" value="1940" data-bind="checked: decades"></label></span>
                    <span data-bind="css: { select: decades1950() === true }"><label>1950s<input type="checkbox" name="decade" value="1950" data-bind="checked: decades"></label></span>
                    <span data-bind="css: { select: decades1960() === true }"><label>1960s<input type="checkbox" name="decade" value="1960" data-bind="checked: decades"></label></span>
                    <span data-bind="css: { select: decades1970() === true }"><label>1970s<input type="checkbox" name="decade" value="1970" data-bind="checked: decades"></label></span>
                    <span data-bind="css: { select: decades1980() === true }"><label>1980s<input type="checkbox" name="decade" value="1980" data-bind="checked: decades"></label></span>
                    <span data-bind="css: { select: decades1990() === true }"><label>1990s<input type="checkbox" name="decade" value="1990" data-bind="checked: decades"></label></span>
                    <span data-bind="css: { select: decades2000() === true }"><label>2000s<input type="checkbox" name="decade" value="2000" data-bind="checked: decades"></label></span>
                </div>
            </div>
            <!-- A system of checkboxes uses KO to enter filter data, and run Place List Eval; also KO re-styles selections-->
            <div id="architectDiv" class="selections__architect-div">
                <p>Architect?</p>
                <div id="architectInputContainer" class="selections__architect-div_architect-input-container">
                    <span data-bind="css: { select: wright() === true }"><label>Frank Lloyd Wright<input type="checkbox" name="architect" value="Frank Lloyd Wright" data-bind="checked: architect"></label></span>
                    <span data-bind="css: { select: schindler() === true }"><label>Schindler<input type="checkbox" name="architect" value="Schindler" data-bind="checked: architect"></label></span>
                    <span data-bind="css: { select: neutra() === true }"><label>Neutra<input type="checkbox" name="architect" value="Neutra" data-bind="checked: architect"></label></span>
                    <span data-bind="css: { select: lautner() === true }"><label>Lautner<input type="checkbox" name="architect" value="Lautner" data-bind="checked: architect"></label></span>
                    <span data-bind="css: { select: gehry() === true }"><label>Gehry<input type="checkbox" name="architect" value="Gehry" data-bind="checked: architect"></label></span>
                    <span data-bind="css: { select: caseStudy() === true }"><label>Case Study<input type="checkbox" name="architect" value="true" data-bind="checked: caseStudy"></label></span>
                </div>
            </div>
            <!-- A system of checkboxes uses KO to enter filter data, and run Place List Eval; also KO re-styles selections-->
            <div id="publicDiv" class="selections__public-div">
                <p>Access?</p>
                <div id="publicInputContainer" class="selections__public-div_public-div-input-container">
                    <span data-bind="css: { select: public() === true }"><label>Public<input type="checkbox" name="access" value="o" data-bind="checked: access"></label></span>
                    <span data-bind="css: { select: tours() === true }"><label>Tours/Appointments<input type="checkbox" name="access" value="t" data-bind="checked: access"></label></span>
                    <span data-bind="css: { select: exterior() === true }"><label>Exterior View<input type="checkbox" name="access" value="e" data-bind="checked: access"></label></span>
                    <span data-bind="css: { select: private() === true }"><label>Private<input type="checkbox" name="access" value="p" data-bind="checked: access"></label></span>
                </div>
            </div>
        </div>
        <div id="mainView" class="main-view">
            <div id="header" class="main-view__header">
                <h2>Almost&nbsp;100&nbsp;Los&nbsp;Angeles Architectural&nbsp;Landmarks</h2>
            </div>
            <!-- MAP  -->
            <div id="mapHolder" class="main-view__map-holder">
                <div id="map" class="main-view__map-holder__map"></div>
            </div>
            <!-- LOCATION LIST  -->
            <div id="overlay-list" class="main-view__overlay-list">
                <div class="main-view__overlay-list_list-contents_header">
                    <!-- KO obs triggers "scrollable" message when Place List exceeds div height-->
                    <h2>Place List <span data-bind="visible: listScroll">(scrollable)</span></h2>
                </div>
                <!-- KO obs "exhibit" boolean triggers visibility of Place Objects,
                KO also tracks list clicks for infowindow-->
                <div id="overlay-list_listContents" class="main-view__overlay-list_list-contents">
                    <ul id="mainView__overlay-list_listContents_ul" data-bind="foreach: placeList">
                        <li data-bind="visible: $data.exhibit, text: name, click: $parent.infoWindowOpener"></li>
                    </ul>
                    <!-- KO shows "no results" message if no items are in list -->
                    <div id="mainView__overlay-list_noResults" class="main-view__overlay-list_no-results" data-bind="visible: noResults">
                        <p>No results! Try re-setting "Search/Filters"</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Scripts to load before Google Map API -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-3.3.0.js"></script>
    <script src="js/script.min.js" type="text/javascript"></script>
    <!-- Google API w Map key: Successful script triggers callback function to load app; fail shows error -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCZHYt1ktow-cJJbP52F75qyJDUmKnHcUM&callback=startApp" onerror="errorCall()">
    </script>
</body>

</html>
